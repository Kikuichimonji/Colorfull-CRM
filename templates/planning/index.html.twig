{% extends 'layouts/loggedin.html.twig' %}

{% block title %}Calendrier{% endblock %}
{% block nav %}
    {{parent()}}
{% endblock %}
{% block content %}
    <div id="mainPlanningBlock" data-id="{{ user.planning.id }}">
        <h1>Calendrier</h1>
        <div id="calendarBox">
            <div id="externalEvents">
                <h2>Events</h2>
                {% for eventType in eventTypes %}
                    <div class="fc-event" style="background-color:{{ eventType.color }}" data-id="{{ eventType.id }}">{{ eventType.label }}</div>
                {% endfor %}
            </div>
            <div id="calendar-holder">
                <div id='calendar'></div>
            </div>
        </div>
        
    </div>

{% endblock %}

{% block style %}
    {{parent()}}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.4.2/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.4.2/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.4.2/main.min.css">
    <link href="{{asset('assets/css/planning.css')}}" rel="stylesheet" type="text/css">
    <link href='https://use.fontawesome.com/releases/v5.0.6/css/all.css' rel='stylesheet'>
{% endblock %}

{% block script_body %}
    {{parent()}}
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.4.2/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@4.4.2/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.4.2/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.4.2/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/bootstrap@4.4.2/main.min.js" charset="utf-16"></script>
    <script> events = {{ events | raw }} </script>
    <script src="{{asset('assets/js/calendar.js')}}"></script>
{% endblock %}
